{"version":3,"sources":["apis/streams.js","history.js","actions/types.js","actions/index.js","components/streams/StreamList.js","components/streams/StreamForm.js","components/streams/StreamCreate.js","components/streams/StreamEdit.js","components/Modal.js","components/streams/StreamDelete.js","components/streams/StreamShow.js","components/GoogleAuth.js","components/Header.js","components/App.js","reducers/authReducer.js","reducers/index.js","reducers/streamReducer.js","reportWebVitals.js","index.js"],"names":["axios","create","baseURL","createBrowserHistory","SIGN_IN","SIGN_OUT","CREATE_STREAM","FETCH_STREAMS","FETCH_STREAM","DELETE_STREAM","EDIT_STREAM","fetchStream","id","dispatch","a","streams","get","response","type","payload","data","StreamList","renderAdmin","stream","userId","props","currentUserId","className","to","this","fetchStreams","map","title","description","isSignedIn","style","textAlign","name","renderList","renderCreate","React","Component","connect","state","Object","values","auth","StreamForm","renderInput","input","label","meta","error","touched","autoComplete","renderError","onSubmit","formValues","handleSubmit","Field","component","reduxForm","form","validate","errors","StreamCreate","createStream","getState","post","history","push","StreamEdit","match","params","editStream","initialValues","_","pick","ownProps","patch","pyaload","Modal","ReactDOM","createPortal","onClick","onDismiss","e","stopPropagation","content","actions","document","querySelector","StreamDelete","deleteStream","Fragment","renderContent","renderActions","delete","StreamShow","videoRef","createRef","bulidPlayer","player","flv","createPlayer","url","attachMediaElement","current","load","ref","width","controls","GoogleAuth","onAuthChange","signIn","currentUser","getId","signOut","onSignOutClick","onSignInClick","window","gapi","client","init","clientId","scope","then","auth2","getAuthInstance","listen","renderAuthButton","Header","App","path","exact","INTIAL_STATE","combineReducers","action","reducer","mapKeys","omit","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","ThunkMiddleware","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.458418b2.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport default axios.create({\r\n    baseURL: 'https://my-json-server.typicode.com/ismail449/json-server-streaming-app/'\r\n});","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();","export const SIGN_IN       = 'SIGN_IN';\r\nexport const SIGN_OUT      = 'SIGN_OUT';\r\nexport const CREATE_STREAM = 'CREATE_STREAM';\r\nexport const FETCH_STREAMS = 'FETCH_STREAMS';\r\nexport const FETCH_STREAM  = 'FETCH_STREAM';\r\nexport const DELETE_STREAM = 'DELETE_STREAM';\r\nexport const EDIT_STREAM   = 'EDIT_STREAM';","import streams from '../apis/streams.js';\r\nimport history from '../history.js';\r\nimport {\r\n    SIGN_IN, \r\n    SIGN_OUT, \r\n    CREATE_STREAM,\r\n    FETCH_STREAMS,\r\n    FETCH_STREAM,\r\n    DELETE_STREAM,\r\n    EDIT_STREAM,\r\n} from './types';\r\n\r\nexport const signIn = (id)=>\r\n{\r\n    return {\r\n        type: SIGN_IN,\r\n        payload: id\r\n    };\r\n};\r\n\r\nexport const signOut = ()=>\r\n{\r\n    return {\r\n        type: SIGN_OUT,\r\n    };\r\n};\r\n\r\nexport const createStream = (formValues) => async (dispatch, getState) =>\r\n{\r\n    const { userId } = getState().auth;\r\n    const response = await streams.post('streams', { ...formValues, userId});\r\n    dispatch({ type: CREATE_STREAM, payload: response.data });\r\n    history.push('/');\r\n};\r\n\r\nexport const fetchStreams = ()=> async (dispatch)=>\r\n{\r\n    const response = await streams.get('streams');\r\n    dispatch({ type: FETCH_STREAMS, payload: response.data });\r\n};\r\n\r\nexport const fetchStream = (id) => async (dispatch) =>\r\n{\r\n    const response = await streams.get(`streams/${id}`);\r\n    dispatch({ type: FETCH_STREAM, payload: response.data })\r\n};\r\n\r\nexport const editStream = (formValues, id) => async (dispatch) => \r\n{\r\n    const response = await streams.patch(`streams/${id}`, formValues);\r\n    dispatch({ type: EDIT_STREAM, pyaload: response.data });\r\n    history.push('/');\r\n};\r\n\r\nexport const deleteStream = (id) => async (dispatch) =>\r\n{\r\n    await streams.delete(`streams/${id}`);\r\n    dispatch({ type: DELETE_STREAM, payload: id });\r\n    history.push('/');\r\n};","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchStreams } from '../../actions';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nclass StreamList extends React.Component\r\n{\r\n    componentDidMount()\r\n    {\r\n        this.props.fetchStreams();\r\n    }\r\n\r\n    renderAdmin = (stream)=>\r\n    {\r\n        if(stream.userId === this.props.currentUserId)\r\n        {\r\n            return (\r\n                <div className=\"right floated content\" >\r\n                    <Link \r\n                        to={ `/streams/edit/${stream.id}` }\r\n                        className=\"ui primary button\">\r\n                        Edit\r\n                    </Link>\r\n                    <Link \r\n                        to={`/streams/delete/${stream.id}`}\r\n                        className=\"ui negative button\">\r\n                        Delete\r\n                    </Link>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    renderList()\r\n    {\r\n        const streams = this.props.streams.map(stream => {\r\n            return (\r\n                <div key={stream.id} className=\"item\" >\r\n                    { this.renderAdmin(stream) }\r\n                    <i className=\"large middle aligned icon camera\" />\r\n                    <div className=\"content\" >\r\n                        <Link to={`/streams/${stream.id}`} className=\"header\" >{stream.title}</Link>\r\n                        <div className=\"description\">\r\n                            { stream.description }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n        return streams;\r\n    }\r\n\r\n    renderCreate()\r\n    {\r\n        if(this.props.isSignedIn)\r\n        {\r\n            return (\r\n                <div style={{textAlign: 'right'}}>\r\n                    <Link name=\"create\" \r\n                        className=\"ui button primary\" \r\n                        to=\"/streams/new\" >\r\n                        Create Stream\r\n                    </Link>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    render()\r\n    {\r\n        return (\r\n            <div>\r\n                <h2>Streams</h2>\r\n                <div className=\"ui celled list\">\r\n                    { this.renderList() }\r\n                </div>\r\n                { this.renderCreate() }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state)=>\r\n{\r\n    return{ \r\n        streams: Object.values(state.streams), \r\n        currentUserId: state.auth.userId,\r\n        isSignedIn: state.auth.isSignedIn\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchStreams })(StreamList);","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\n\r\nclass StreamForm extends React.Component\r\n{\r\n    renderError({touched, error})\r\n    {\r\n        if(touched && error)\r\n        {\r\n            return(\r\n                <div className=\"ui error message\" >\r\n                    <div className=\"header\" >\r\n                        {error}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    renderInput = ({input, label, meta})=>\r\n    {\r\n        const className = `field ${meta.error && meta.touched? 'error': ''}`\r\n        return (\r\n            <div className={className}>\r\n                <label>{label}</label>\r\n                <input {...input} autoComplete=\"off\" />\r\n                {this.renderError(meta)}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    onSubmit = (formValues)=>\r\n    {\r\n        this.props.onSubmit(formValues);\r\n    }\r\n    render()\r\n    {\r\n        return (\r\n            <form onSubmit={this.props.handleSubmit(this.onSubmit)} className=\"ui form error\" >\r\n               <Field name=\"title\" component={this.renderInput} label=\"Enter Title\" /> \r\n               <Field name=\"description\" component={this.renderInput} label=\"Enter Description\" />\r\n               <button className=\"ui button primary\">Submit</button>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nconst validate = (formValues)=>\r\n{\r\n    const errors = {};\r\n    if(!formValues.title)\r\n    {\r\n        errors.title = 'You Must Enter a Title';\r\n    }\r\n    if(!formValues.description)\r\n    {\r\n        errors.description = 'You Must Enter a Description';\r\n    }\r\n    return errors;\r\n}\r\n\r\n\r\nexport default reduxForm({\r\n    form: 'streamForm',\r\n    validate\r\n})(StreamForm);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStream } from '../../actions';\r\nimport StreamForm from './StreamForm';\r\n\r\nclass StreamCreate extends React.Component\r\n{\r\n    onSubmit = (formValues)=>\r\n    {\r\n        this.props.createStream(formValues);\r\n    }\r\n\r\n    render()\r\n    {\r\n        return (\r\n            <div>\r\n                <h3>Create a Stream</h3>\r\n                <StreamForm onSubmit={ this.onSubmit } />\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default connect(null, {\r\n    createStream,\r\n})(StreamCreate);","import _ from 'lodash';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchStream, editStream } from '../../actions';\r\nimport StreamForm from './StreamForm';\r\n\r\nclass StreamEdit extends React.Component\r\n{\r\n    componentDidMount()\r\n    {\r\n        this.props.fetchStream(this.props.match.params.id);\r\n    }\r\n\r\n    onSubmit = (formValues)=>\r\n    {\r\n        const id = this.props.match.params.id;\r\n        this.props.editStream(formValues, id);\r\n    }\r\n\r\n    render()\r\n    {\r\n        if(!this.props.stream)\r\n        {\r\n            return <div>Loading...</div>\r\n        }\r\n        return (\r\n            <div>\r\n                <h3>Edit a Stream</h3>\r\n                <StreamForm onSubmit={ this.onSubmit } \r\n                    initialValues={ _.pick(this.props.stream, 'title', 'description') } \r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps)=>\r\n{\r\n    return { stream: state.streams[ownProps.match.params.id] };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchStream, editStream })(StreamEdit);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nconst Modal = (props)=>\r\n{\r\n    return ReactDOM.createPortal(\r\n        <div onClick={ props.onDismiss } className=\"ui dimmer modals visible active\">\r\n            <div onClick={(e)=> e.stopPropagation()} className=\"ui standard modal visible active\">\r\n                <div className=\"header\">\r\n                    { props.title }\r\n                </div>\r\n                <div className=\"content\">\r\n                    { props.content }\r\n                </div>\r\n                <div className=\"actions\">\r\n                    { props.actions }\r\n                </div>\r\n            </div>\r\n        </div>,\r\n        document.querySelector('#modal')\r\n    );\r\n};\r\n\r\nexport default Modal;","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport Modal from '../Modal';\r\nimport history from '../../history';\r\nimport { fetchStream, deleteStream } from '../../actions';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass StreamDelete extends React.Component\r\n{\r\n    componentDidMount()\r\n    {\r\n        this.props.fetchStream(this.props.match.params.id);\r\n    }\r\n\r\n    onClick = ()=>\r\n    {\r\n        this.props.deleteStream(this.props.match.params.id);\r\n    }\r\n\r\n    renderActions()\r\n    {\r\n        return (\r\n            <React.Fragment>\r\n                <button \r\n                    onClick={ this.onClick }\r\n                    className=\"ui negative button\">\r\n                    Delete\r\n                </button>\r\n                <Link to=\"/\" className=\"ui button\">Cancel</Link>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    renderContent()\r\n    {\r\n        if(!this.props.stream)\r\n        {\r\n            return 'Are you sure you want to delete this stream ?';\r\n        }\r\n        else{\r\n            return `Are you sure you want to delete this stream with title: ${this.props.stream.title} ?`;\r\n        }\r\n    }\r\n\r\n    render()\r\n    {\r\n        return (\r\n                <Modal \r\n                    title=\"Delete Stream\"\r\n                    content={ this.renderContent() }\r\n                    onDismiss={ ()=> history.push('/') }\r\n                    actions={  this.renderActions() }\r\n                />\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps)=>\r\n{\r\n    return { stream: state.streams[ ownProps.match.params.id ]};\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchStream, deleteStream })(StreamDelete);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchStream } from '../../actions';\r\nimport flv from 'flv.js';\r\n\r\nclass StreamShow extends React.Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n\r\n        this.videoRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount()\r\n    {\r\n        const { id } = this.props.match.params;\r\n\r\n        this.props.fetchStream(id);\r\n        this.bulidPlayer();\r\n    }\r\n\r\n    componentDidUpdate()\r\n    {\r\n        this.bulidPlayer();\r\n    }\r\n\r\n    bulidPlayer()\r\n    {\r\n        const { id } = this.props.match.params;\r\n        if(this.player || !this.props.stream)\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.player = flv.createPlayer({\r\n            type: 'flv',\r\n            url: `http://localhost/:8000/live/${id}.flv`,\r\n        });\r\n        this.player.attachMediaElement(this.videoRef.current);\r\n        this.player.load();\r\n    }\r\n\r\n    render()\r\n    {\r\n        if(!this.props.stream)\r\n        {\r\n            return <div>Loading...</div>;\r\n        }\r\n\r\n        const { title, description } = this.props.stream;\r\n\r\n        return (\r\n            <div>\r\n                <video ref={this.videoRef} style={{ width:'100%' }} controls={true} />\r\n                <h1>{title}</h1>\r\n                <h5>{description}</h5>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps)=>\r\n{\r\n    return { stream: state.streams[ownProps.match.params.id] };\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchStream })(StreamShow);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { signIn, signOut } from '../actions'; \r\n\r\n\r\nclass GoogleAuth extends React.Component\r\n{\r\n\r\n    componentDidMount()\r\n    {\r\n        window.gapi.load('client:auth2', ()=>{\r\n            window.gapi.client.init({\r\n                clientId: '339648307073-dk3oheom9c8koerv0013foc8i4pt6cf9.apps.googleusercontent.com',\r\n                scope: 'email'\r\n            }).then(()=>{\r\n                this.auth = window.gapi.auth2.getAuthInstance();\r\n                this.onAuthChange(this.auth.isSignedIn.get());\r\n                this.auth.isSignedIn.listen(this.onAuthChange);\r\n            });\r\n        });\r\n    }\r\n\r\n    onAuthChange = (isSignedIn)=>\r\n    {\r\n        if(isSignedIn)\r\n        {\r\n            this.props.signIn(this.auth.currentUser.get().getId());\r\n        }\r\n        else\r\n        {\r\n            this.props.signOut();\r\n        }\r\n    };\r\n\r\n    onSignOutClick = ()=>\r\n    {\r\n        this.auth.signOut();\r\n    }\r\n\r\n    onSignInClick = ()=>\r\n    {\r\n        this.auth.signIn();\r\n    }\r\n    renderAuthButton()\r\n    {\r\n        if (this.props.isSignedIn === null)\r\n        {\r\n            return null;\r\n        }\r\n        else if (this.props.isSignedIn)\r\n        {\r\n            return (\r\n                <button \r\n                    className=\"ui red google button\" \r\n                    onClick={ this.onSignOutClick } >\r\n                    <i className=\"google icon\" />\r\n                    sign out\r\n                </button>\r\n            );\r\n        }\r\n        else\r\n        {\r\n            return (\r\n                <button \r\n                    className=\"ui red google button\" \r\n                    onClick={ this.onSignInClick } >\r\n                    <i className=\"google icon\" />\r\n                    sign in with google\r\n                </button>\r\n            );\r\n        }\r\n    }\r\n\r\n    render()\r\n    {\r\n        return (\r\n            <div>{this.renderAuthButton()}</div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps =(state)=>\r\n{\r\n    return {\r\n        isSignedIn: state.auth.isSignedIn,\r\n        userId: state.auth.userId\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps,{ signIn: signIn, signOut: signOut })(GoogleAuth);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport GoogleAuth from './GoogleAuth';\r\n\r\nconst Header = ()=>\r\n{\r\n    return (\r\n        <div className=\"ui secondary pointing menu\" >\r\n            <Link to=\"/\" className=\"item\" >\r\n                Streamer\r\n            </Link>\r\n            <div className=\"right menu\" >\r\n                <Link to=\"/\" className=\"item\" >\r\n                    All Streams\r\n                </Link>\r\n                <GoogleAuth />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport StreamList from './streams/StreamList';\nimport StreamCreate from './streams/StreamCreate';\nimport StreamEdit from './streams/StreamEdit';\nimport StreamDelete from './streams/StreamDelete';\nimport StreamShow from './streams/StreamShow';\nimport Header from './Header';\nimport history from '../history';\n\nconst App = ()=> {\n  return (\n    <div className=\"ui container\" >\n      <Router history={history} >\n        <div>\n          <Header />\n          <Switch>\n            <Route path=\"/\" exact component={StreamList} />\n            <Route path=\"/streams/new\" component={StreamCreate} />\n            <Route path=\"/streams/edit/:id\" component={StreamEdit} />\n            <Route path=\"/streams/delete/:id\" component={StreamDelete} />\n            <Route path=\"/streams/:id\" component={StreamShow} />\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import {SIGN_IN, SIGN_OUT } from '../actions/types';\r\n\r\nconst INTIAL_STATE = {\r\n    isSignedIn: null,\r\n    userId: null\r\n};\r\n\r\nexport default (state = INTIAL_STATE, action) =>\r\n{\r\n    switch(action.type)\r\n    {\r\n        case SIGN_IN: \r\n            return { ...state, isSignedIn: true, userId: action.payload };\r\n        case SIGN_OUT:\r\n            return { ...state, isSignedIn: false, userId: null };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { combineReducers } from 'redux';\r\nimport { reducer } from 'redux-form';\r\nimport authReducer from './authReducer';\r\nimport streamReducer from './streamReducer';\r\n\r\nexport default combineReducers({\r\n    auth: authReducer,\r\n    form: reducer,\r\n    streams: streamReducer\r\n});","import _ from 'lodash';\r\nimport {  \r\n    CREATE_STREAM,\r\n    FETCH_STREAMS,\r\n    FETCH_STREAM,\r\n    DELETE_STREAM,\r\n    EDIT_STREAM \r\n} from '../actions/types';\r\n\r\nexport default (state = {}, action)=>\r\n{\r\n    switch(action.type)\r\n    {\r\n        case FETCH_STREAMS:\r\n            return { ...state , ..._.mapKeys(action.payload, 'id') };\r\n\r\n        case FETCH_STREAM || CREATE_STREAM || EDIT_STREAM:\r\n            return { ...state, [action.payload.id]: action.payload };\r\n        \r\n        case DELETE_STREAM:\r\n            return _.omit(state, action.payload);\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { Provider } from 'react-redux';\nimport ThunkMiddleware from 'redux-thunk';\n\nimport App from './components/App';\nimport reducers from './reducers';\nimport reportWebVitals from './reportWebVitals';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(ThunkMiddleware))\n  );\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={ store }>\n      <App />\n    </Provider>\n    \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}